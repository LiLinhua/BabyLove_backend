"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[939],{47866:function(M,C,e){e.d(C,{Al:function(){return r},D2:function(){return t},Dz:function(){return L},Gs:function(){return B},Ir:function(){return g},Lk:function(){return c},M1:function(){return j},OM:function(){return o},Pp:function(){return W},Qc:function(){return P},Vr:function(){return b},X2:function(){return a},XZ:function(){return D},Xh:function(){return h},aV:function(){return m},c5:function(){return u},c9:function(){return N},cl:function(){return y},d0:function(){return T},f9:function(){return S},g7:function(){return I},gR:function(){return n},i4:function(){return l},i9:function(){return i},kL:function(){return R},kP:function(){return E},mL:function(){return O},nc:function(){return f},o6:function(){return F},pV:function(){return Q},re:function(){return d},rx:function(){return U},tz:function(){return s},ws:function(){return A},x4:function(){return K},xc:function(){return k},yV:function(){return G}});var s="/admin/goods/addGoods",m="/admin/goods/updateGoods",h="/admin/goods/removeGoods",l="/admin/goodsPictures/addGoodsPictures",f="/admin/shoppingCarts/addGoods",u="/admin/shoppingCarts/batchRemoveGoods",y="/admin/shoppingCarts/updateBuyCount",d="/admin/shoppingCarts/queryAllGoodsCount",v="/admin/shoppingCarts/addShoppingCart",i="/admin/goods/queryAllGoods",A="/admin/goods/queryGoodsDetails",b="/admin/shoppingCarts/queryAllShoppingCarts",P="/admin/shoppingCarts/queryAllGoods",E="/admin/shoppingCarts/batchUpdateSelected",B="/admin/orders/queryAllOrders",O="/admin/orders/queryOrderDetails",I="/admin/orders/addOrder",G="/admin/orders/updateOrderBaseInfo",L="/admin/orders/updateOrderGoodsBuyCount",S="/admin/orders/addOrderGoods",D="/admin/orders/removeOrder",g="/admin/catalogs/queryAllCatalogs",R="/admin/catalogs/createCatalog",F="/admin/catalogs/updateCatalog",o="/admin/catalogs/removeCatalog",n="/custom/shoppingCarts/queryAllGoods",r="/custom/shoppingCarts/updateBuyCount",c="/custom/goods/queryAllGoods",t="/custom/goods/queryGoodsDetails",a="/custom/shoppingCarts/addShoppingCart",T="/custom/shoppingCarts/addGoods",U="/custom/shoppingCarts/batchRemoveGoods",W="/custom/shoppingCarts/queryAllGoodsCount",j="/custom/shoppingCarts/batchUpdateSelected",k="/custom/orders/queryAllOrders",Q="/custom/orders/queryOrderDetails",N="/custom/orders/cancelOrder",K="/user/login",p="/user/logout"},12860:function(M,C,e){e.d(C,{T:function(){return m},x:function(){return h}});var s=e(61544),m=function(f){return[{title:"\u5546\u54C1",className:"baby-love-admin-home-item-goods",onClick:function(){return(0,s.WF)("/goods/list",!0)}},{title:"\u8D2D\u7269",className:"baby-love-admin-home-item-cart",onClick:function(){return(0,s.WF)("/shopping-cart?shoppingCartCode=".concat(f||""),!0)}},{title:"\u8BA2\u5355",className:"baby-love-admin-home-item-order",onClick:function(){return(0,s.WF)("/order/list",!0)}},{title:"\u5206\u7C7B",className:"baby-love-admin-home-item-catalog",onClick:function(){return(0,s.WF)("/catalog/list",!0)}}]},h=function(f){return{custom:[{title:"\u5546\u54C1",onClick:function(){return(0,s.WF)("/goods/list",!0)}},{title:"\u8D2D\u7269\u8F66",onClick:function(){return(0,s.WF)("/shopping-cart?shoppingCartCode=".concat(f||""),!0)}},{title:"\u8BA2\u5355",onClick:function(){return(0,s.WF)("/order/list?shoppingCartCode=".concat(f||""),!0)}}],admin:[{title:"\u5546\u54C1",onClick:function(){return(0,s.WF)("/goods/list",!0)}},{title:"\u8D2D\u7269\u8F66",onClick:function(){return(0,s.WF)("/shopping-cart?shoppingCartCode=".concat(f||""),!0)}},{title:"\u8BA2\u5355",onClick:function(){return(0,s.WF)("/order/list",!0)}}]}}},42912:function(M,C,e){var s=e(6154),m=e(34202),h=e(61544),l=function(v){m.FN.show({icon:"fail",content:v||"\u8BF7\u6C42\u5931\u8D25\uFF0C\u8BF7\u7A0D\u540E\u518D\u8BD5"})};function f(d){console.log("===========http===========",d);var v=d||{},i=v.data;return i?((!i||i.code!==200||!i.success)&&l(i.message||"\u7CFB\u7EDF\u5F02\u5E38\uFF0C\u8BF7\u7A0D\u540E\u518D\u8BD5\uFF01"),Promise.resolve(i)):(l("\u7CFB\u7EDF\u5F02\u5E38\uFF0C\u8BF7\u7A0D\u540E\u518D\u8BD5\uFF01"),Promise.reject(i))}function u(d){if(!window.navigator.onLine)return l("\u7F51\u7EDC\u5DF2\u65AD\u5F00"),Promise.reject(d.response||{});var v=d.response,i=v.status,A=v.data;if(i){switch(i){case 401:l("\u8BF7\u5148\u767B\u5F55"),(0,h.f9)(),(0,h.GL)();break;case 404:l("\u8BF7\u6C42\u4E0D\u5B58\u5728");break;default:l(A.message||"\u8BF7\u6C42\u9519\u8BEF\uFF0C\u8BF7\u7A0D\u540E\u518D\u8BD5")}return Promise.reject(d.response||{})}}var y=s.Z.create({timeout:12e3});y.defaults.headers.post["Content-Type"]="application/json;charset=UTF-8",y.interceptors.request.use(function(d){return d},function(d){return Promise.error(d)}),y.interceptors.response.use(f,u),C.Z=y},61544:function(M,C,e){e.d(C,{F3:function(){return g},GJ:function(){return i},GL:function(){return P},JG:function(){return F},Te:function(){return L},V2:function(){return E},WF:function(){return b},YX:function(){return G},f9:function(){return B},hf:function(){return S},on:function(){return D},xE:function(){return R},y7:function(){return O},yV:function(){return A}});var s=e(15009),m=e.n(s),h=e(99289),l=e.n(h),f=e(82188),u=e(42912),y=e(12860),d=e(34202),v=e(47866),i=location.pathname.startsWith("/view/admin"),A=function(){return["/view/admin/login","/view/custom/login","/view/login"].includes(location.pathname)},b=function(n,r,c){n&&(c||(location.pathname.startsWith("/view/admin")?n="/view/admin".concat(n):n="/view".concat(n)),r?location.href=n:f.m8.push(n))},P=function(){b("/login?callback=".concat(location.pathname),!0)},E=function(){sessionStorage.setItem("babyLoveToken","1")},B=function(){sessionStorage.removeItem("babyLoveToken")},O=function(){return!!sessionStorage.getItem("babyLoveToken")},I=function(){var o=l()(m()().mark(function n(){var r,c;return m()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,u.Z.post(v.X2);case 2:return r=a.sent,c=r.data,a.abrupt("return",c?c.shoppingCartCode:null);case 5:case"end":return a.stop()}},n)}));return function(){return o.apply(this,arguments)}}(),G=function(){var o=l()(m()().mark(function n(){var r;return m()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=localStorage.getItem("babyloveShoppingCartCode"),r){t.next=5;break}return t.next=4,I();case 4:r=t.sent;case 5:if(r){t.next=7;break}return t.abrupt("return",d.FN.show({icon:"fail",content:"\u6DFB\u52A0\u5931\u8D25\uFF0C\u8BF7\u7A0D\u540E\u518D\u8BD5"}));case 7:return localStorage.setItem("babyloveShoppingCartCode",r),t.abrupt("return",r);case 9:case"end":return t.stop()}},n)}));return function(){return o.apply(this,arguments)}}(),L=function(n){n&&localStorage.setItem("babyloveShoppingCartCode",n)},S=function(n){n&&localStorage.setItem("babyloveAdminShoppingCartCode",n)},D=function(){return localStorage.getItem("babyloveAdminShoppingCartCode")},g=function(){localStorage.removeItem("babyloveAdminShoppingCartCode")},R=function(){var o=l()(m()().mark(function n(){var r,c;return m()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,G();case 2:if(r=a.sent,c=(0,y.x)(r),!i){a.next=6;break}return a.abrupt("return",c.admin);case 6:return a.abrupt("return",c.custom);case 7:case"end":return a.stop()}},n)}));return function(){return o.apply(this,arguments)}}(),F=function(n){if(!n)return!1;try{var r=document.createElement("input");return r.value=n,r.style.height=0,document.body.append(r),r.select(),document.execCommand("Copy"),r.remove(),!0}catch(c){return!1}}},37514:function(M,C,e){e.r(C),e.d(C,{default:function(){return F}});var s=e(15009),m=e.n(s),h=e(99289),l=e.n(h),f=e(12444),u=e.n(f),y=e(72004),d=e.n(y),v=e(25098),i=e.n(v),A=e(31996),b=e.n(A),P=e(26037),E=e.n(P),B=e(9783),O=e.n(B),I=e(47866),G=e(42912),L=e(61544),S=e(34202),D=e(67294),g=e(85893),R=function(o){b()(r,o);var n=E()(r);function r(c){var t;return u()(this,r),t=n.call(this,c),O()(i()(t),"formRef",D.createRef()),O()(i()(t),"login",l()(m()().mark(function a(){var T,U,W,j,k,Q,N;return m()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return t.setState({isLoading:!0}),U=(T=t.formRef.current)===null||T===void 0?void 0:T.getFieldsValue(["username","password"]),W=U.username,j=U.password,p.prev=2,p.next=5,G.Z.post(I.x4,{username:W,password:j});case 5:if(k=p.sent,Q=k.success,!Q){p.next=11;break}return(0,L.V2)(),N=new URLSearchParams(location.search),p.abrupt("return",(0,L.WF)(N.get("callback")||"/",!0,!0));case 11:p.next=16;break;case 13:p.prev=13,p.t0=p.catch(2),console.error(p.t0);case 16:t.setState({isLoading:!1});case 17:case"end":return p.stop()}},a,null,[[2,13]])}))),t.state={isLoading:!1},t}return d()(r,[{key:"render",value:function(){return(0,g.jsx)("div",{className:"baby-love-login",children:(0,g.jsx)("div",{className:"baby-love-login-form",children:(0,g.jsxs)(S.l0,{ref:this.formRef,layout:"horizontal",footer:(0,g.jsx)(S.zx,{block:!0,type:"submit",color:"primary",size:"large",onClick:this.login,loading:this.state.isLoading,children:"\u767B\u5F55"}),children:[(0,g.jsx)(S.l0.Item,{name:"username",label:"\u767B\u5F55\u540D",rules:[{required:!0,message:"\u767B\u5F55\u540D\u4E0D\u80FD\u4E3A\u7A7A"}],children:(0,g.jsx)(S.II,{onChange:console.log,placeholder:"\u8BF7\u8F93\u5165\u767B\u5F55\u540D"})}),(0,g.jsx)(S.l0.Item,{name:"password",label:"\u767B\u5F55\u5BC6\u7801",rules:[{required:!0,message:"\u767B\u5F55\u5BC6\u7801\u4E0D\u80FD\u4E3A\u7A7A"}],children:(0,g.jsx)(S.II,{type:"password",onChange:console.log,placeholder:"\u8BF7\u8F93\u5165\u767B\u5F55\u5BC6\u7801"})})]})})})}}]),r}(D.Component),F=R}}]);
