"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[162],{72557:function(K,D,s){s.r(D),s.d(D,{default:function(){return Z}});var F=s(15009),f=s.n(F),I=s(99289),O=s.n(I),P=s(12444),y=s.n(P),$=s(72004),g=s.n($),G=s(25098),u=s.n(G),T=s(31996),C=s.n(T),A=s(26037),j=s.n(A),E=s(9783),c=s.n(E),N=s(67294),M=s(47866),Y=s(42912),p=s(61544),l=s(12695),z=s(90336),L=s(92692),t=s(85893),B=function(h){C()(a,h);var m=j()(a);function a(i){var r;return y()(this,a),r=m.call(this,i),c()(u()(r),"copyOrderNumber",function(){var o=r.props.orderItem;if((0,p.JG)(o.orderCode)){l.FN.show({icon:"success",content:"\u590D\u5236\u6210\u529F"});return}l.FN.show({icon:"fail",content:"\u590D\u5236\u5931\u8D25"})}),c()(u()(r),"lookLogistics",function(){var o=r.props.orderItem;if(!o.expressCode)return l.FN.show({icon:"fail",content:"\u6682\u65E0\u7269\u6D41\u4FE1\u606F"});if((0,p.JG)(o.expressCode)){l.FN.show({icon:"success",content:"\u7269\u6D41\u5355\u53F7\u5DF2\u590D\u5236\uFF0C\u8DF3\u8F6C\u67E5\u8BE2\u4E2D...",duration:2e3}),setTimeout(function(){window.open("https://m.kuaidi100.com/index.jsp")},2e3);return}l.FN.show({icon:"fail",content:"\u7269\u6D41\u5355\u53F7\u590D\u5236\u5931\u8D25"})}),c()(u()(r),"updateOrder",function(){(0,p.WF)("/order/edit?orderCode=".concat(r.props.orderItem.orderCode))}),r}return g()(a,[{key:"render",value:function(){var r,o=this.props,n=o.orderItem,d=o.stopPropagation,S=[L.iM.FINISHED.value,L.iM.CANCELED.value].includes(n.status);return(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"baby-love-admin-order-list-item-header",children:[(0,t.jsxs)("span",{className:"baby-love-admin-order-list-item-header-left",children:[(0,t.jsx)("span",{className:"baby-love-admin-order-list-item-number",children:n.orderCode}),(0,t.jsx)("span",{className:"baby-love-admin-order-list-item-time",children:n.createdAt})]}),(0,t.jsx)("span",{className:"baby-love-admin-order-list-item-status",children:((r=L.iM[n.status])===null||r===void 0?void 0:r.title)||"\u672A\u77E5"})]}),(0,t.jsx)("div",{className:"baby-love-admin-order-list-goods-picture",children:(0,t.jsx)("ul",{children:n.goods&&n.goods.map(function(e){var v,x,b;return(0,t.jsxs)("li",{children:[(0,t.jsx)("div",{className:"baby-love-admin-order-list-goods-picture-content",style:{backgroundImage:"url(".concat(((v=e.pictures)===null||v===void 0||(x=v[0])===null||x===void 0?void 0:x.pictureUrl)||z,")")}}),(0,t.jsx)(l.mH,{direction:"end",rows:1,content:e.goodsTitle}),(0,t.jsxs)("span",{className:"baby-love-admin-order-list-goods-count",children:["X",((b=e.ordersGoodsRelations)===null||b===void 0?void 0:b.buyCount)||"?"]})]},e.goodsCode)})})}),(0,t.jsxs)("div",{className:"baby-love-admin-order-list-item-footer",onClick:d,children:[(0,t.jsxs)("div",{className:"baby-love-admin-order-list-item-price",children:[(0,t.jsx)("span",{className:"baby-love-admin-order-list-item-price-label",children:"\u5B9E\u4ED8\uFF1A"}),"\xA5",n.totalPrice]}),(0,t.jsxs)("div",{className:"baby-love-admin-order-list-item-actions",children:[(0,t.jsx)(l.zx,{color:"primary",fill:"none",onClick:this.copyOrderNumber,children:"\u590D\u5236\u5355\u53F7"}),n.expressCode?(0,t.jsx)(l.zx,{color:"primary",fill:"none",disabled:!n.expressCode,onClick:this.lookLogistics,children:"\u67E5\u770B\u7269\u6D41"}):null]})]})]})}}]),a}(N.Component),H=B,R=function(h){C()(a,h);var m=j()(a);function a(i){var r;return y()(this,a),r=m.call(this,i),r.state={},r}return g()(a,[{key:"render",value:function(){var r=this.props,o=r.orderList,n=r.stopPropagation,d=r.toOrderDetails,S=r.isShowLoading;return S?(0,t.jsx)(l.k_,{color:"primary"}):o!=null&&o.length?(0,t.jsx)("ul",{className:"baby-love-admin-order-list-content",children:o.map(function(e){return(0,t.jsx)("li",{className:"baby-love-admin-order-list-item",onClick:function(){return d(e.orderCode)},children:(0,t.jsx)(H,{orderItem:e,stopPropagation:n})},e.orderCode)})}):(0,t.jsx)("p",{className:"baby-love-admin-order-list-empty",children:"\u6682\u65E0\u6570\u636E"})}}]),a}(N.Component),w=R,J=function(h){C()(a,h);var m=j()(a);function a(i){return y()(this,a),m.call(this,i)}return g()(a,[{key:"render",value:function(){return(0,t.jsx)("div",{className:"baby-love-admin-order-search",children:(0,t.jsx)(l.E1,{placeholder:"\u8BF7\u8F93\u5165\u8BA2\u5355\u53F7",onChange:this.props.onSearch})})}}]),a}(N.Component),U=J,W=s(27484),X=s.n(W),k=function(h){C()(a,h);var m=j()(a);function a(i){var r;return y()(this,a),r=m.call(this,i),c()(u()(r),"initData",O()(f()().mark(function o(){return f()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,r.getOrderList();case 2:case"end":return d.stop()}},o)}))),c()(u()(r),"getOrderList",O()(f()().mark(function o(){var n,d;return f()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.setState({isShowLoading:!0}),e.t0=Y.Z,e.t1=M.xc,e.t2=r.state.keyword,e.next=6,(0,p.YX)();case 6:return e.t3=e.sent,e.t4={keyword:e.t2,shoppingCartCode:e.t3},e.next=10,e.t0.post.call(e.t0,e.t1,e.t4);case 10:if(n=e.sent,d=n.data,!Array.isArray(d)){e.next=15;break}return r.setState({orderList:d.map(function(v){return v.createdAt=X()(v.createdAt).format("YYYY-MM-DD HH:mm:ss"),v}),isShowLoading:!1}),e.abrupt("return");case 15:r.setState({isShowLoading:!1});case 16:case"end":return e.stop()}},o)}))),c()(u()(r),"onSearch",function(o){clearTimeout(r.searchTimer),r.searchTimer=setTimeout(function(){r.setState({keyword:o},r.getOrderList)},500)}),c()(u()(r),"toOrderDetails",function(o){(0,p.WF)("/order/details?orderCode="+o)}),c()(u()(r),"stopPropagation",function(o){o&&o.stopPropagation()}),r.state={orderList:[],keyword:"",isShowLoading:!1},r}return g()(a,[{key:"componentDidMount",value:function(){this.initData()}},{key:"render",value:function(){var r=this.state,o=r.orderList,n=r.isShowLoading;return(0,t.jsxs)("div",{className:"baby-love-admin-order-list",children:[(0,t.jsx)(U,{onSearch:this.onSearch}),(0,t.jsx)(w,{orderList:o,stopPropagation:this.stopPropagation,toOrderDetails:this.toOrderDetails,isShowLoading:n})]})}}]),a}(N.Component),Z=k}}]);
