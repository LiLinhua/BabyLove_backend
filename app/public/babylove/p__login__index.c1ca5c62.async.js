"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[939],{47866:function(W,h,e){e.d(h,{Al:function(){return M},Bv:function(){return X},D2:function(){return j},DG:function(){return F},Dz:function(){return A},Gs:function(){return O},Ir:function(){return I},Lk:function(){return k},M1:function(){return $},OM:function(){return n},Pp:function(){return f},Qc:function(){return U},Qs:function(){return i},Uy:function(){return t},Vr:function(){return P},W3:function(){return c},X2:function(){return Q},XZ:function(){return C},Xh:function(){return y},aV:function(){return m},bp:function(){return r},c5:function(){return S},c9:function(){return z},cl:function(){return l},d0:function(){return N},f9:function(){return L},g7:function(){return G},gR:function(){return T},hl:function(){return w},i4:function(){return v},i9:function(){return g},kL:function(){return R},kP:function(){return E},mL:function(){return B},nc:function(){return s},o6:function(){return a},pV:function(){return V},re:function(){return p},rx:function(){return K},sn:function(){return d},tz:function(){return o},ws:function(){return b},x4:function(){return Z},xc:function(){return _},yV:function(){return D}});var o="/admin/goods/addGoods",m="/admin/goods/updateGoods",y="/admin/goods/removeGoods",d="/admin/goods/modifyGoodsStatus",v="/admin/goodsPictures/addGoodsPictures",s="/admin/shoppingCarts/addGoods",S="/admin/shoppingCarts/batchRemoveGoods",l="/admin/shoppingCarts/updateBuyCount",p="/admin/shoppingCarts/queryAllGoodsCount",u="/admin/shoppingCarts/addShoppingCart",g="/admin/goods/queryAllGoods",b="/admin/goods/queryGoodsDetails",P="/admin/shoppingCarts/queryAllShoppingCarts",U="/admin/shoppingCarts/queryAllGoods",E="/admin/shoppingCarts/batchUpdateSelected",O="/admin/orders/queryAllOrders",B="/admin/orders/queryOrderDetails",G="/admin/orders/addOrder",D="/admin/orders/updateOrderBaseInfo",A="/admin/orders/updateOrderGoodsBuyCount",L="/admin/orders/addOrderGoods",C="/admin/orders/removeOrder",I="/admin/catalogs/queryAllCatalogs",R="/admin/catalogs/createCatalog",a="/admin/catalogs/updateCatalog",n="/admin/catalogs/removeCatalog",r="/admin/users/queryAllUsers",c="/admin/users/addUser",t="/admin/users/updateUser",i="/admin/users/queryUserDetails",F="/admin/users/removeUser",T="/custom/shoppingCarts/queryAllGoods",M="/custom/shoppingCarts/updateBuyCount",k="/custom/goods/queryAllGoods",j="/custom/goods/queryGoodsDetails",Q="/custom/shoppingCarts/addShoppingCart",N="/custom/shoppingCarts/addGoods",K="/custom/shoppingCarts/batchRemoveGoods",f="/custom/shoppingCarts/queryAllGoodsCount",$="/custom/shoppingCarts/batchUpdateSelected",_="/custom/orders/queryAllOrders",V="/custom/orders/queryOrderDetails",z="/custom/orders/cancelOrder",w="/custom/orders/checkOrder",X="/custom/catalogs/queryAllCatalogs",Z="/user/login",H="/user/logout"},12860:function(W,h,e){e.d(h,{T:function(){return m},x:function(){return y}});var o=e(61544),m=function(v){return[{title:"\u5F00\u5355",className:"baby-love-admin-home-item-open",onClick:function(){return(0,o.WF)("/goods/list",!0)}},{title:"\u7528\u6237",className:"baby-love-admin-home-item-users",onClick:function(){return(0,o.WF)("/user/list",!0)}},{title:"\u5546\u54C1",className:"baby-love-admin-home-item-goods",onClick:function(){return(0,o.WF)("/goods/list",!0)}},{title:"\u8D2D\u7269",className:"baby-love-admin-home-item-cart",onClick:function(){return(0,o.WF)("/shopping-cart?shoppingCartCode=".concat(v||""),!0)}},{title:"\u8BA2\u5355",className:"baby-love-admin-home-item-order",onClick:function(){return(0,o.WF)("/order/list",!0)}},{title:"\u5206\u7C7B",className:"baby-love-admin-home-item-catalog",onClick:function(){return(0,o.WF)("/catalog/list",!0)}}]},y=function(v){return{custom:[{title:"\u5546\u54C1",onClick:function(){return(0,o.WF)("/goods/list",!0)}},{title:"\u8D2D\u7269\u8F66",onClick:function(){return(0,o.WF)("/shopping-cart?shoppingCartCode=".concat(v||""),!0)}},{title:"\u8BA2\u5355",onClick:function(){return(0,o.WF)("/order/list?shoppingCartCode=".concat(v||""),!0)}}],admin:[{title:"\u5546\u54C1",onClick:function(){return(0,o.WF)("/goods/list",!0)}},{title:"\u8D2D\u7269\u8F66",onClick:function(){return(0,o.WF)("/shopping-cart?shoppingCartCode=".concat(v||""),!0)}},{title:"\u8BA2\u5355",onClick:function(){return(0,o.WF)("/order/list",!0)}}]}}},42912:function(W,h,e){var o=e(6154),m=e(12695),y=e(61544),d=function(p){m.FN.show({icon:"fail",content:p||"\u8BF7\u6C42\u5931\u8D25\uFF0C\u8BF7\u7A0D\u540E\u518D\u8BD5"})};function v(l){var p=l||{},u=p.data;return u?((!u||u.code!==200||!u.success)&&d(u.message||"\u7CFB\u7EDF\u5F02\u5E38\uFF0C\u8BF7\u7A0D\u540E\u518D\u8BD5\uFF01"),Promise.resolve(u)):(d("\u7CFB\u7EDF\u5F02\u5E38\uFF0C\u8BF7\u7A0D\u540E\u518D\u8BD5\uFF01"),Promise.reject(u))}function s(l){if(!window.navigator.onLine)return d("\u7F51\u7EDC\u5DF2\u65AD\u5F00"),Promise.reject(l.response||{});var p=l.response||{},u=p.status,g=p.data;if(u){switch(u){case 401:d((g==null?void 0:g.message)||"\u8BF7\u5148\u767B\u5F55"),(0,y.f9)(),(0,y.GL)();break;case 404:d("\u8BF7\u6C42\u4E0D\u5B58\u5728");break;default:d((g==null?void 0:g.message)||"\u8BF7\u6C42\u9519\u8BEF\uFF0C\u8BF7\u7A0D\u540E\u518D\u8BD5")}return Promise.reject(l.response||{})}}var S=o.Z.create({timeout:12e3});S.defaults.headers.post["Content-Type"]="application/json;charset=UTF-8",S.interceptors.request.use(function(l){return l},function(l){return Promise.error(l)}),S.interceptors.response.use(v,s),h.Z=S},61544:function(W,h,e){e.d(h,{F3:function(){return C},GJ:function(){return u},GL:function(){return P},JG:function(){return R},Te:function(){return D},V2:function(){return U},WF:function(){return b},YX:function(){return G},f9:function(){return E},hf:function(){return A},on:function(){return L},xE:function(){return I},y7:function(){return O},yV:function(){return g}});var o=e(15009),m=e.n(o),y=e(99289),d=e.n(y),v=e(82188),s=e(42912),S=e(12860),l=e(12695),p=e(47866),u=location.pathname.startsWith("/view/admin"),g=function(){return["/view/admin/login","/view/custom/login","/view/login"].includes(location.pathname)},b=function(n,r,c){n&&(c||(location.pathname.startsWith("/view/admin")?n="/view/admin".concat(n):n="/view".concat(n)),r?location.href=n:v.m8.push(n))},P=function(){b("/login?callback=".concat(encodeURIComponent(location.href)),!0)},U=function(){localStorage.setItem("babyLoveToken","1")},E=function(){localStorage.removeItem("babyLoveToken")},O=function(){return!!localStorage.getItem("babyLoveToken")},B=function(){var a=d()(m()().mark(function n(){var r,c;return m()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,s.Z.post(p.X2);case 2:return r=i.sent,c=r.data,i.abrupt("return",c?c.shoppingCartCode:null);case 5:case"end":return i.stop()}},n)}));return function(){return a.apply(this,arguments)}}(),G=function(){var a=d()(m()().mark(function n(){var r;return m()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=localStorage.getItem("babyloveShoppingCartCode"),r){t.next=5;break}return t.next=4,B();case 4:r=t.sent;case 5:if(r){t.next=7;break}return t.abrupt("return",l.FN.show({icon:"fail",content:"\u6DFB\u52A0\u5931\u8D25\uFF0C\u8BF7\u7A0D\u540E\u518D\u8BD5"}));case 7:return localStorage.setItem("babyloveShoppingCartCode",r),t.abrupt("return",r);case 9:case"end":return t.stop()}},n)}));return function(){return a.apply(this,arguments)}}(),D=function(n){n&&localStorage.setItem("babyloveShoppingCartCode",n)},A=function(n){n&&localStorage.setItem("babyloveAdminShoppingCartCode",n)},L=function(){return localStorage.getItem("babyloveAdminShoppingCartCode")},C=function(){localStorage.removeItem("babyloveAdminShoppingCartCode")},I=function(){var a=d()(m()().mark(function n(){var r,c;return m()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,G();case 2:if(r=i.sent,c=(0,S.x)(r),!u){i.next=6;break}return i.abrupt("return",c.admin);case 6:return i.abrupt("return",c.custom);case 7:case"end":return i.stop()}},n)}));return function(){return a.apply(this,arguments)}}(),R=function(n){if(!n)return!1;try{var r=document.createElement("input");return r.value=n,r.style.height=0,document.body.append(r),r.select(),document.execCommand("Copy"),r.remove(),!0}catch(c){return!1}}},37514:function(W,h,e){e.r(h),e.d(h,{default:function(){return R}});var o=e(15009),m=e.n(o),y=e(99289),d=e.n(y),v=e(12444),s=e.n(v),S=e(72004),l=e.n(S),p=e(25098),u=e.n(p),g=e(31996),b=e.n(g),P=e(26037),U=e.n(P),E=e(9783),O=e.n(E),B=e(47866),G=e(42912),D=e(61544),A=e(12695),L=e(67294),C=e(85893),I=function(a){b()(r,a);var n=U()(r);function r(c){var t;return s()(this,r),t=n.call(this,c),O()(u()(t),"formRef",L.createRef()),O()(u()(t),"login",d()(m()().mark(function i(){var F,T,M,k,j,Q,N;return m()().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return t.setState({isLoading:!0}),T=(F=t.formRef.current)===null||F===void 0?void 0:F.getFieldsValue(["username","password"]),M=T.username,k=T.password,f.prev=2,f.next=5,G.Z.post(B.x4,{userName:M,userPassword:k});case 5:if(j=f.sent,Q=j.success,!Q){f.next=11;break}return(0,D.V2)(),N=new URLSearchParams(location.search),f.abrupt("return",(0,D.WF)(N.get("callback")||"/",!0,!0));case 11:f.next=16;break;case 13:f.prev=13,f.t0=f.catch(2),console.error(f.t0);case 16:t.setState({isLoading:!1});case 17:case"end":return f.stop()}},i,null,[[2,13]])}))),t.state={isLoading:!1},t}return l()(r,[{key:"render",value:function(){return(0,C.jsx)("div",{className:"baby-love-login",children:(0,C.jsx)("div",{className:"baby-love-login-form",children:(0,C.jsxs)(A.l0,{ref:this.formRef,layout:"horizontal",footer:(0,C.jsx)(A.zx,{block:!0,type:"submit",color:"primary",size:"large",onClick:this.login,loading:this.state.isLoading,children:"\u767B\u5F55"}),children:[(0,C.jsx)(A.l0.Item,{name:"username",label:"\u767B\u5F55\u540D",rules:[{required:!0,message:"\u767B\u5F55\u540D\u4E0D\u80FD\u4E3A\u7A7A"}],children:(0,C.jsx)(A.II,{onChange:console.log,placeholder:"\u8BF7\u8F93\u5165\u767B\u5F55\u540D"})}),(0,C.jsx)(A.l0.Item,{name:"password",label:"\u767B\u5F55\u5BC6\u7801",rules:[{required:!0,message:"\u767B\u5F55\u5BC6\u7801\u4E0D\u80FD\u4E3A\u7A7A"}],children:(0,C.jsx)(A.II,{type:"password",onChange:console.log,placeholder:"\u8BF7\u8F93\u5165\u767B\u5F55\u5BC6\u7801"})})]})})})}}]),r}(L.Component),R=I}}]);
