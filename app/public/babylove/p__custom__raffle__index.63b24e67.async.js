(self.webpackChunk=self.webpackChunk||[]).push([[399],{98458:function(t,r,e){"use strict";e.r(r),e.d(r,{default:function(){return w}});var a=e(15009),s=e.n(a),f=e(99289),n=e.n(f),i=e(12444),c=e.n(i),l=e(72004),v=e.n(l),u=e(25098),x=e.n(u),p=e(31996),h=e.n(p),b=e(26037),P=e.n(b),S=e(9783),T=e.n(S),E=e(67294),y=e(85893),M=function(I){h()(O,I);var A=P()(O);function O(D){var o;return c()(this,O),o=A.call(this,D),T()(x()(o),"start",n()(s()().mark(function R(){var g;return s()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:if(!o.state.isRotationing){d.next=2;break}return d.abrupt("return");case 2:o.setState({isRotationing:!0}),o.currentDeg+=Math.random()*360+1080,g=o.state.totalCountArr[Math.floor((o.currentDeg+o.intervalDeg/2)%360/(360/o.state.totalCountArr.length))],o.setState({rewardInfo:{deg:o.currentDeg,text:g==="\u8C22\u8C22\u53C2\u4E0E"?"\u5F88\u9057\u61BE\uFF0C\u60A8\u6CA1\u6709\u83B7\u5F97\u5956\u54C1\u3002":"\u606D\u559C\u83B7\u5F97: "+g}});case 6:case"end":return d.stop()}},R)}))),T()(x()(o),"pointerTransitionEnd",function(){setTimeout(function(){o.setState({isRotationing:!1})},300)}),o.state={isLoading:!1,totalCountArr:["5 0 \u79EF\u5206","100\u5143\u8BDD\u8D39","\u8C22\u8C22\u53C2\u4E0E","10\u5143\u8BDD\u8D39"],isRotationing:!1,rewardInfo:{deg:0,text:"\u8C22\u8C22\u53C2\u4E0E"}},o.currentDeg=0,o.intervalDeg=360/o.state.totalCountArr.length,o}return v()(O,[{key:"render",value:function(){var o=this,R=this.state,g=R.totalCountArr,C=R.isRotationing,d=R.rewardInfo;return(0,y.jsxs)("div",{className:"baby-love-raffle",children:[(0,y.jsxs)("div",{className:"baby-love-raffle-wrapper",children:[g.map(function(N,j){return(0,y.jsx)("div",{style:{transform:"rotate(".concat(j*o.intervalDeg,"deg)")},className:"baby-love-raffle-light ".concat(C?"baby-love-raffle-light-twinkling":"")},j)}),(0,y.jsxs)("div",{className:"baby-love-raffle-panel",children:[g.map(function(N,j){return(0,y.jsx)("div",{style:{transform:"rotate(".concat(j*o.intervalDeg-o.intervalDeg/2,"deg)")},className:"baby-love-raffle-sector",children:(0,y.jsx)("div",{style:{transform:"translateX(-100px) rotate(".concat(o.intervalDeg,"deg)")},className:"baby-love-raffle-sector-inner",children:(0,y.jsx)("span",{children:N})})},j)}),(0,y.jsx)("div",{className:"baby-love-raffle-pointer",style:{transform:"rotateZ(".concat(d.deg,"deg)")},onClick:this.start,onTransitionEnd:this.pointerTransitionEnd,children:"\u5F00\u59CB\u62BD\u5956"})]})]}),(0,y.jsx)("div",{className:"baby-love-raffle-result",children:C?"":d.text})]})}}]),O}(E.Component),w=M},75251:function(t,r,e){"use strict";var a=e(67294),s=Symbol.for("react.element"),f=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function l(v,u,x){var p,h={},b=null,P=null;x!==void 0&&(b=""+x),u.key!==void 0&&(b=""+u.key),u.ref!==void 0&&(P=u.ref);for(p in u)n.call(u,p)&&!c.hasOwnProperty(p)&&(h[p]=u[p]);if(v&&v.defaultProps)for(p in u=v.defaultProps,u)h[p]===void 0&&(h[p]=u[p]);return{$$typeof:s,type:v,key:b,ref:P,props:h,_owner:i.current}}r.Fragment=f,r.jsx=l,r.jsxs=l},85893:function(t,r,e){"use strict";t.exports=e(75251)},25098:function(t){function r(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports},12444:function(t){function r(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports},72004:function(t,r,e){var a=e(51883);function s(n,i){for(var c=0;c<i.length;c++){var l=i[c];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(n,a(l.key),l)}}function f(n,i,c){return i&&s(n.prototype,i),c&&s(n,c),Object.defineProperty(n,"prototype",{writable:!1}),n}t.exports=f,t.exports.__esModule=!0,t.exports.default=t.exports},26037:function(t,r,e){var a=e(48374),s=e(21771),f=e(73408);function n(i){var c=s();return function(){var v=a(i),u;if(c){var x=a(this).constructor;u=Reflect.construct(v,arguments,x)}else u=v.apply(this,arguments);return f(this,u)}}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports},48374:function(t){function r(e){return t.exports=r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},t.exports.__esModule=!0,t.exports.default=t.exports,r(e)}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports},31996:function(t,r,e){var a=e(21314);function s(f,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");f.prototype=Object.create(n&&n.prototype,{constructor:{value:f,writable:!0,configurable:!0}}),Object.defineProperty(f,"prototype",{writable:!1}),n&&a(f,n)}t.exports=s,t.exports.__esModule=!0,t.exports.default=t.exports},21771:function(t){function r(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports},73408:function(t,r,e){var a=e(52677).default,s=e(25098);function f(n,i){if(i&&(a(i)==="object"||typeof i=="function"))return i;if(i!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return s(n)}t.exports=f,t.exports.__esModule=!0,t.exports.default=t.exports},21314:function(t){function r(e,a){return t.exports=r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(f,n){return f.__proto__=n,f},t.exports.__esModule=!0,t.exports.default=t.exports,r(e,a)}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports}}]);
