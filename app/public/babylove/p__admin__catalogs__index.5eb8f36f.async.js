"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[980],{47866:function(W,w,t){t.d(w,{Al:function(){return C},Bv:function(){return c},D2:function(){return E},Dz:function(){return U},Gs:function(){return _},Ir:function(){return l},Lk:function(){return A},M1:function(){return S},OM:function(){return y},Pp:function(){return d},Qc:function(){return $},Vr:function(){return I},X2:function(){return L},XZ:function(){return Q},Xh:function(){return O},aV:function(){return o},c5:function(){return h},c9:function(){return a},cl:function(){return F},d0:function(){return G},f9:function(){return f},g7:function(){return M},gR:function(){return s},i4:function(){return p},i9:function(){return u},kL:function(){return K},kP:function(){return T},mL:function(){return b},nc:function(){return N},o6:function(){return V},pV:function(){return n},re:function(){return v},rx:function(){return B},tz:function(){return g},ws:function(){return R},x4:function(){return m},xc:function(){return e},yV:function(){return P}});var g="/admin/goods/addGoods",o="/admin/goods/updateGoods",O="/admin/goods/removeGoods",p="/admin/goodsPictures/addGoodsPictures",N="/admin/shoppingCarts/addGoods",h="/admin/shoppingCarts/batchRemoveGoods",F="/admin/shoppingCarts/updateBuyCount",v="/admin/shoppingCarts/queryAllGoodsCount",D="/admin/shoppingCarts/addShoppingCart",u="/admin/goods/queryAllGoods",R="/admin/goods/queryGoodsDetails",I="/admin/shoppingCarts/queryAllShoppingCarts",$="/admin/shoppingCarts/queryAllGoods",T="/admin/shoppingCarts/batchUpdateSelected",_="/admin/orders/queryAllOrders",b="/admin/orders/queryOrderDetails",M="/admin/orders/addOrder",P="/admin/orders/updateOrderBaseInfo",U="/admin/orders/updateOrderGoodsBuyCount",f="/admin/orders/addOrderGoods",Q="/admin/orders/removeOrder",l="/admin/catalogs/queryAllCatalogs",K="/admin/catalogs/createCatalog",V="/admin/catalogs/updateCatalog",y="/admin/catalogs/removeCatalog",s="/custom/shoppingCarts/queryAllGoods",C="/custom/shoppingCarts/updateBuyCount",A="/custom/goods/queryAllGoods",E="/custom/goods/queryGoodsDetails",L="/custom/shoppingCarts/addShoppingCart",G="/custom/shoppingCarts/addGoods",B="/custom/shoppingCarts/batchRemoveGoods",d="/custom/shoppingCarts/queryAllGoodsCount",S="/custom/shoppingCarts/batchUpdateSelected",e="/custom/orders/queryAllOrders",n="/custom/orders/queryOrderDetails",a="/custom/orders/cancelOrder",c="/custom/catalogs/queryAllCatalogs",m="/user/login",i="/user/logout"},12860:function(W,w,t){t.d(w,{T:function(){return o},x:function(){return O}});var g=t(61544),o=function(N){return[{title:"\u5546\u54C1",className:"baby-love-admin-home-item-goods",onClick:function(){return(0,g.WF)("/goods/list",!0)}},{title:"\u8D2D\u7269",className:"baby-love-admin-home-item-cart",onClick:function(){return(0,g.WF)("/shopping-cart?shoppingCartCode=".concat(N||""),!0)}},{title:"\u8BA2\u5355",className:"baby-love-admin-home-item-order",onClick:function(){return(0,g.WF)("/order/list",!0)}},{title:"\u5206\u7C7B",className:"baby-love-admin-home-item-catalog",onClick:function(){return(0,g.WF)("/catalog/list",!0)}}]},O=function(N){return{custom:[{title:"\u5546\u54C1",onClick:function(){return(0,g.WF)("/goods/list",!0)}},{title:"\u8D2D\u7269\u8F66",onClick:function(){return(0,g.WF)("/shopping-cart?shoppingCartCode=".concat(N||""),!0)}},{title:"\u8BA2\u5355",onClick:function(){return(0,g.WF)("/order/list?shoppingCartCode=".concat(N||""),!0)}}],admin:[{title:"\u5546\u54C1",onClick:function(){return(0,g.WF)("/goods/list",!0)}},{title:"\u8D2D\u7269\u8F66",onClick:function(){return(0,g.WF)("/shopping-cart?shoppingCartCode=".concat(N||""),!0)}},{title:"\u8BA2\u5355",onClick:function(){return(0,g.WF)("/order/list",!0)}}]}}},42912:function(W,w,t){var g=t(6154),o=t(34202),O=t(61544),p=function(D){o.FN.show({icon:"fail",content:D||"\u8BF7\u6C42\u5931\u8D25\uFF0C\u8BF7\u7A0D\u540E\u518D\u8BD5"})};function N(v){console.log("===========http===========",v);var D=v||{},u=D.data;return u?((!u||u.code!==200||!u.success)&&p(u.message||"\u7CFB\u7EDF\u5F02\u5E38\uFF0C\u8BF7\u7A0D\u540E\u518D\u8BD5\uFF01"),Promise.resolve(u)):(p("\u7CFB\u7EDF\u5F02\u5E38\uFF0C\u8BF7\u7A0D\u540E\u518D\u8BD5\uFF01"),Promise.reject(u))}function h(v){if(!window.navigator.onLine)return p("\u7F51\u7EDC\u5DF2\u65AD\u5F00"),Promise.reject(v.response||{});var D=v.response,u=D.status,R=D.data;if(u){switch(u){case 401:p("\u8BF7\u5148\u767B\u5F55"),(0,O.f9)(),(0,O.GL)();break;case 404:p("\u8BF7\u6C42\u4E0D\u5B58\u5728");break;default:p(R.message||"\u8BF7\u6C42\u9519\u8BEF\uFF0C\u8BF7\u7A0D\u540E\u518D\u8BD5")}return Promise.reject(v.response||{})}}var F=g.Z.create({timeout:12e3});F.defaults.headers.post["Content-Type"]="application/json;charset=UTF-8",F.interceptors.request.use(function(v){return v},function(v){return Promise.error(v)}),F.interceptors.response.use(N,h),w.Z=F},61544:function(W,w,t){t.d(w,{F3:function(){return l},GJ:function(){return u},GL:function(){return $},JG:function(){return V},Te:function(){return U},V2:function(){return T},WF:function(){return I},YX:function(){return P},f9:function(){return _},hf:function(){return f},on:function(){return Q},xE:function(){return K},y7:function(){return b},yV:function(){return R}});var g=t(15009),o=t.n(g),O=t(99289),p=t.n(O),N=t(82188),h=t(42912),F=t(12860),v=t(34202),D=t(47866),u=location.pathname.startsWith("/view/admin"),R=function(){return["/view/admin/login","/view/custom/login","/view/login"].includes(location.pathname)},I=function(s,C,A){s&&(A||(location.pathname.startsWith("/view/admin")?s="/view/admin".concat(s):s="/view".concat(s)),C?location.href=s:N.m8.push(s))},$=function(){I("/login?callback=".concat(location.pathname),!0)},T=function(){sessionStorage.setItem("babyLoveToken","1")},_=function(){sessionStorage.removeItem("babyLoveToken")},b=function(){return!!sessionStorage.getItem("babyLoveToken")},M=function(){var y=p()(o()().mark(function s(){var C,A;return o()().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return L.next=2,h.Z.post(D.X2);case 2:return C=L.sent,A=C.data,L.abrupt("return",A?A.shoppingCartCode:null);case 5:case"end":return L.stop()}},s)}));return function(){return y.apply(this,arguments)}}(),P=function(){var y=p()(o()().mark(function s(){var C;return o()().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:if(C=localStorage.getItem("babyloveShoppingCartCode"),C){E.next=5;break}return E.next=4,M();case 4:C=E.sent;case 5:if(C){E.next=7;break}return E.abrupt("return",v.FN.show({icon:"fail",content:"\u6DFB\u52A0\u5931\u8D25\uFF0C\u8BF7\u7A0D\u540E\u518D\u8BD5"}));case 7:return localStorage.setItem("babyloveShoppingCartCode",C),E.abrupt("return",C);case 9:case"end":return E.stop()}},s)}));return function(){return y.apply(this,arguments)}}(),U=function(s){s&&localStorage.setItem("babyloveShoppingCartCode",s)},f=function(s){s&&localStorage.setItem("babyloveAdminShoppingCartCode",s)},Q=function(){return localStorage.getItem("babyloveAdminShoppingCartCode")},l=function(){localStorage.removeItem("babyloveAdminShoppingCartCode")},K=function(){var y=p()(o()().mark(function s(){var C,A;return o()().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return L.next=2,P();case 2:if(C=L.sent,A=(0,F.x)(C),!u){L.next=6;break}return L.abrupt("return",A.admin);case 6:return L.abrupt("return",A.custom);case 7:case"end":return L.stop()}},s)}));return function(){return y.apply(this,arguments)}}(),V=function(s){if(!s)return!1;try{var C=document.createElement("input");return C.value=s,C.style.height=0,document.body.append(C),C.select(),document.execCommand("Copy"),C.remove(),!0}catch(A){return!1}}},57949:function(W,w,t){t.r(w),t.d(w,{default:function(){return L}});var g=t(15009),o=t.n(g),O=t(99289),p=t.n(O),N=t(12444),h=t.n(N),F=t(72004),v=t.n(F),D=t(25098),u=t.n(D),R=t(31996),I=t.n(R),$=t(26037),T=t.n($),_=t(9783),b=t.n(_),M=t(67294),P=t(47866),U=t(42912),f=t(34202),Q=t(86592),l=t(85893),K=function(G){I()(d,G);var B=T()(d);function d(S){var e;return h()(this,d),e=B.call(this,S),b()(u()(e),"changeCatalogInput",function(n,a){e.setState(b()({},n,a))}),b()(u()(e),"comfirmCreateCatalog",p()(o()().mark(function n(){var a,c,m,i,j,k;return o()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(a=e.state,c=a.catalogCode,m=a.catalogName,c){r.next=4;break}return f.FN.show({icon:"fail",content:"\u5206\u7C7B\u7F16\u7801\u4E0D\u80FD\u4E3A\u7A7A"}),r.abrupt("return");case 4:if(m){r.next=7;break}return f.FN.show({icon:"fail",content:"\u5206\u7C7B\u540D\u79F0\u4E0D\u80FD\u4E3A\u7A7A"}),r.abrupt("return");case 7:return r.next=9,U.Z.post(P.kL,{catalogCode:c,catalogName:m});case 9:if(i=r.sent,j=i.success,k=i.message,j){r.next=15;break}return f.FN.show({icon:"fail",content:k||"\u65B0\u589E\u5931\u8D25"}),r.abrupt("return");case 15:f.FN.show({icon:"success",content:"\u65B0\u589E\u6210\u529F"}),e.props.getCatalogList();case 17:case"end":return r.stop()}},n)}))),b()(u()(e),"addCatalog",function(){e.setState({catalogCode:"",catalogName:""},function(){f.Vq.confirm({content:(0,l.jsxs)("div",{className:"baby-love-admin-catalog-list-add-form",children:[(0,l.jsx)(f.II,{defaultValue:e.state.catalogCode,placeholder:"\u8BF7\u8F93\u5165\u7F16\u7801",onChange:function(a){return e.changeCatalogInput("catalogCode",a)}}),(0,l.jsx)(f.II,{defaultValue:e.state.catalogName,placeholder:"\u8BF7\u8F93\u5165\u5206\u7C7B\u540D",onChange:function(a){return e.changeCatalogInput("catalogName",a)}})]}),confirmText:"\u786E\u5B9A",onConfirm:function(){var n=p()(o()().mark(function c(){return o()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,e.comfirmCreateCatalog();case 2:case"end":return i.stop()}},c)}));function a(){return n.apply(this,arguments)}return a}()})})}),e.state={catalogCode:S.catalogCode,catalogName:S.catalogName},e}return v()(d,[{key:"render",value:function(){return(0,l.jsx)("div",{className:"baby-love-admin-catalog-add",onClick:this.addCatalog,children:(0,l.jsx)(Q.Z,{})})}}]),d}(M.Component),V=K,y=function(G){I()(d,G);var B=T()(d);function d(S){var e;return h()(this,d),e=B.call(this,S),b()(u()(e),"changeCatalogInput",function(n,a){e.setState(b()({},n,a))}),b()(u()(e),"comfirmEditCatalogName",p()(o()().mark(function n(){var a,c,m,i,j,k;return o()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return a=e.state,c=a.catalogCode,m=a.catalogName,r.next=3,U.Z.post(P.o6,{catalogCode:c,catalogName:m});case 3:if(i=r.sent,j=i.success,k=i.message,j){r.next=9;break}return f.FN.show({icon:"fail",content:k||"\u66F4\u65B0\u5931\u8D25"}),r.abrupt("return");case 9:f.FN.show({icon:"success",content:"\u66F4\u65B0\u6210\u529F"}),e.props.getCatalogList();case 11:case"end":return r.stop()}},n)}))),b()(u()(e),"updateCatalog",function(n,a){e.setState({catalogCode:n,catalogName:a},function(){f.Vq.confirm({content:(0,l.jsxs)("div",{className:"baby-love-admin-catalog-list-update-form",children:[(0,l.jsx)(f.II,{defaultValue:e.state.catalogCode,placeholder:"\u8BF7\u8F93\u5165\u7F16\u7801",onChange:function(m){return e.changeCatalogInput("catalogCode",m)}}),(0,l.jsx)(f.II,{defaultValue:e.state.catalogName,placeholder:"\u8BF7\u8F93\u5165\u5206\u7C7B\u540D",onChange:function(m){return e.changeCatalogInput("catalogName",m)}})]}),confirmText:"\u786E\u5B9A",onConfirm:function(){var c=p()(o()().mark(function i(){return o()().wrap(function(k){for(;;)switch(k.prev=k.next){case 0:return k.next=2,e.comfirmEditCatalogName();case 2:case"end":return k.stop()}},i)}));function m(){return c.apply(this,arguments)}return m}()})})}),b()(u()(e),"removeCatalog",function(){var n=p()(o()().mark(function a(c){var m,i,j,k;return o()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,f.Vq.confirm({content:"\u786E\u5B9A\u5220\u9664\u8BE5\u5206\u7C7B\u5417\uFF1F"});case 2:if(m=r.sent,m){r.next=5;break}return r.abrupt("return");case 5:return r.next=7,U.Z.post(P.OM,{catalogCode:c});case 7:if(i=r.sent,j=i.success,k=i.message,j){r.next=13;break}return f.FN.show({icon:"fail",content:k||"\u5220\u9664\u5931\u8D25"}),r.abrupt("return");case 13:f.FN.show({icon:"success",content:"\u5220\u9664\u6210\u529F"}),e.props.getCatalogList();case 15:case"end":return r.stop()}},a)}));return function(a){return n.apply(this,arguments)}}()),e.state={catalogCode:S.catalogCode,catalogName:S.catalogName},e}return v()(d,[{key:"render",value:function(){var e=this,n=this.props,a=n.catalogList,c=n.isShowLoading;return c?(0,l.jsx)(f.k_,{color:"primary"}):a!=null&&a.length?(0,l.jsx)("ul",{className:"baby-love-admin-catalog-list-content",children:a.map(function(m){return(0,l.jsxs)("li",{className:"baby-love-admin-catalog-list-item",children:[(0,l.jsx)("span",{children:m.catalogCode}),(0,l.jsx)("span",{children:m.catalogName}),(0,l.jsxs)("span",{children:[(0,l.jsx)(f.zx,{size:"small",color:"primary",onClick:function(){return e.updateCatalog(m.catalogCode,m.catalogName)},children:"\u4FEE\u6539"}),(0,l.jsx)(f.zx,{size:"small",color:"danger",onClick:function(){return e.removeCatalog(m.catalogCode)},children:"\u5220\u9664"})]})]})})}):(0,l.jsx)("p",{className:"baby-love-admin-catalog-list-empty",children:"\u6682\u65E0\u6570\u636E"})}}]),d}(M.Component),s=y,C=function(G){I()(d,G);var B=T()(d);function d(S){return h()(this,d),B.call(this,S)}return v()(d,[{key:"render",value:function(){return(0,l.jsx)("div",{className:"baby-love-admin-catalog-search",children:(0,l.jsx)(f.E1,{placeholder:"\u8BF7\u8F93\u5165\u5173\u952E\u8BCD",onChange:this.props.onSearch})})}}]),d}(M.Component),A=C,E=function(G){I()(d,G);var B=T()(d);function d(S){var e;return h()(this,d),e=B.call(this,S),b()(u()(e),"initData",p()(o()().mark(function n(){return o()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,e.getCatalogList();case 2:case"end":return c.stop()}},n)}))),b()(u()(e),"getCatalogList",p()(o()().mark(function n(){var a,c;return o()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return e.setState({isShowLoading:!0}),i.next=3,U.Z.post(P.Ir,{keyword:e.state.keyword});case 3:if(a=i.sent,c=a.data,!Array.isArray(c)){i.next=8;break}return e.setState({catalogList:c,isShowLoading:!1}),i.abrupt("return");case 8:e.setState({isShowLoading:!1});case 9:case"end":return i.stop()}},n)}))),b()(u()(e),"onSearch",function(n){clearTimeout(e.searchTimer),e.searchTimer=setTimeout(function(){e.setState({keyword:n},e.getCatalogList)},500)}),b()(u()(e),"stopPropagation",function(n){n&&n.stopPropagation()}),e.state={catalogList:[],keyword:"",isShowLoading:!1},e}return v()(d,[{key:"componentDidMount",value:function(){this.initData()}},{key:"render",value:function(){var e=this.state,n=e.catalogList,a=e.isShowLoading;return(0,l.jsxs)("div",{className:"baby-love-admin-catalog-list",children:[(0,l.jsx)(A,{onSearch:this.onSearch}),(0,l.jsx)(s,{catalogList:n,stopPropagation:this.stopPropagation,isShowLoading:a,getCatalogList:this.getCatalogList}),(0,l.jsx)(V,{getCatalogList:this.getCatalogList})]})}}]),d}(M.Component),L=E},86592:function(W,w,t){var g=t(67294);function o(O){return g.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},O,{style:Object.assign({verticalAlign:"-0.125em"},O.style),className:["antd-mobile-icon",O.className].filter(Boolean).join(" ")}),g.createElement("g",{id:"AddCircleOutline-AddCircleOutline",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},g.createElement("g",{id:"AddCircleOutline-\u7F16\u7EC4"},g.createElement("rect",{id:"AddCircleOutline-\u77E9\u5F62",fill:"#FFFFFF",opacity:0,x:0,y:0,width:48,height:48}),g.createElement("path",{d:"M24,2 C36.1502645,2 46,11.8497355 46,24 C46,36.1502645 36.1502645,46 24,46 C11.8497355,46 2,36.1502645 2,24 C2,11.8497355 11.8497355,2 24,2 Z M24,5 C13.5065898,5 5,13.5065898 5,24 C5,34.4934102 13.5065898,43 24,43 C34.4934102,43 43,34.4934102 43,24 C43,13.5065898 34.4934102,5 24,5 Z M25.5,14.9 L25.5,22.5 L25.5,22.5 L33.1,22.5 C33.3209139,22.5 33.5,22.6790861 33.5,22.9 L33.5,25.1 C33.5,25.3209139 33.3209139,25.5 33.1,25.5 L25.5,25.5 L25.5,25.5 L25.5,33.1 C25.5,33.3209139 25.3209139,33.5 25.1,33.5 L22.9,33.5 C22.6790861,33.5 22.5,33.3209139 22.5,33.1 L22.5,25.5 L22.5,25.5 L14.9,25.5 C14.6790861,25.5 14.5,25.3209139 14.5,25.1 L14.5,22.9 C14.5,22.6790861 14.6790861,22.5 14.9,22.5 L22.5,22.5 L22.5,22.5 L22.5,14.9 C22.5,14.6790861 22.6790861,14.5 22.9,14.5 L25.1,14.5 C25.3209139,14.5 25.5,14.6790861 25.5,14.9 Z",id:"AddCircleOutline-\u5F62\u72B6",fill:"currentColor",fillRule:"nonzero"}))))}w.Z=o}}]);
