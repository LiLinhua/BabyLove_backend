"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[939],{47866:function($,h,r){r.d(h,{Al:function(){return m},D2:function(){return D},Dz:function(){return I},Gs:function(){return R},Lk:function(){return T},M1:function(){return t},Pp:function(){return u},Qc:function(){return P},Vr:function(){return p},X2:function(){return o},Xh:function(){return C},aV:function(){return c},c5:function(){return G},c9:function(){return U},cl:function(){return g},d0:function(){return e},f9:function(){return v},g7:function(){return b},gR:function(){return O},i4:function(){return d},i9:function(){return s},kP:function(){return F},mL:function(){return L},nc:function(){return S},pV:function(){return Q},re:function(){return i},rx:function(){return n},tz:function(){return y},ws:function(){return A},x4:function(){return j},xc:function(){return a},yV:function(){return B}});var y="/admin/goods/addGoods",c="/admin/goods/updateGoods",C="/admin/goods/removeGoods",d="/admin/goodsPictures/addGoodsPictures",S="/admin/shoppingCarts/addGoods",G="/admin/shoppingCarts/batchRemoveGoods",g="/admin/shoppingCarts/updateBuyCount",i="/admin/shoppingCarts/queryAllGoodsCount",f="/admin/shoppingCarts/addShoppingCart",s="/admin/goods/queryAllGoods",A="/admin/goods/queryGoodsDetails",p="/admin/shoppingCarts/queryAllShoppingCarts",P="/admin/shoppingCarts/queryAllGoods",F="/admin/shoppingCarts/batchUpdateSelected",R="/admin/orders/queryAllOrders",L="/admin/orders/queryOrderDetails",b="/admin/orders/addOrder",B="/admin/orders/updateOrderBaseInfo",I="/admin/orders/updateOrderGoodsBuyCount",v="/admin/orders/addOrderGoods",O="/custom/shoppingCarts/queryAllGoods",m="/custom/shoppingCarts/updateBuyCount",T="/custom/goods/queryAllGoods",D="/custom/goods/queryGoodsDetails",o="/custom/shoppingCarts/addShoppingCart",e="/custom/shoppingCarts/addGoods",n="/custom/shoppingCarts/batchRemoveGoods",u="/custom/shoppingCarts/queryAllGoodsCount",t="/custom/shoppingCarts/batchUpdateSelected",a="/custom/orders/queryAllOrders",Q="/custom/orders/queryOrderDetails",U="/custom/orders/cancelOrder",j="/user/login",k="/user/logout"},42912:function($,h,r){var y=r(6154),c=r(16763),C=r(82405),d=function(f){c.FN.show({icon:"fail",content:f||"\u8BF7\u6C42\u5931\u8D25\uFF0C\u8BF7\u7A0D\u540E\u518D\u8BD5"})};function S(i){console.log("===========http===========",i);var f=i||{},s=f.data;return s?((!s||s.code!==200||!s.success)&&d(s.message||"\u7CFB\u7EDF\u5F02\u5E38\uFF0C\u8BF7\u7A0D\u540E\u518D\u8BD5\uFF01"),Promise.resolve(s)):(d("\u7CFB\u7EDF\u5F02\u5E38\uFF0C\u8BF7\u7A0D\u540E\u518D\u8BD5\uFF01"),Promise.reject(s))}function G(i){if(!window.navigator.onLine)return d("\u7F51\u7EDC\u5DF2\u65AD\u5F00"),Promise.reject(i.response||{});var f=i.response,s=f.status,A=f.data;if(s){switch(s){case 401:d("\u8BF7\u5148\u767B\u5F55"),(0,C.f9)(),(0,C.GL)();break;case 404:d("\u8BF7\u6C42\u4E0D\u5B58\u5728");break;default:d(A.message||"\u8BF7\u6C42\u9519\u8BEF\uFF0C\u8BF7\u7A0D\u540E\u518D\u8BD5")}return Promise.reject(i.response||{})}}var g=y.Z.create({timeout:12e3});g.defaults.headers.post["Content-Type"]="application/json;charset=UTF-8",g.interceptors.request.use(function(i){return i},function(i){return Promise.error(i)}),g.interceptors.response.use(S,G),h.Z=g},82405:function($,h,r){r.d(h,{y7:function(){return L},JG:function(){return D},on:function(){return O},xE:function(){return T},YX:function(){return B},WF:function(){return p},GJ:function(){return s},Xn:function(){return A},F3:function(){return m},f9:function(){return R},hf:function(){return v},V2:function(){return F},Te:function(){return I},GL:function(){return P}});var y=r(15009),c=r.n(y),C=r(99289),d=r.n(C),S=r(82188),G=r(42912),g=function(e){return{custom:[{title:"\u5546\u54C1",onClick:function(){return p("/goods/list",!0)}},{title:"\u8D2D\u7269\u8F66",onClick:function(){return p("/shopping-cart?shoppingCartCode=".concat(e||""),!0)}},{title:"\u8BA2\u5355",onClick:function(){return p("/order/list?shoppingCartCode=".concat(e||""),!0)}}],admin:[{title:"\u5546\u54C1",onClick:function(){return p("/goods/list",!0)}},{title:"\u8D2D\u7269\u8F66",onClick:function(){return p("/shopping-cart?shoppingCartCode=".concat(e||""),!0)}},{title:"\u8BA2\u5355",onClick:function(){return p("/order/list",!0)}}]}},i=r(16763),f=r(47866),s=location.pathname.startsWith("/view/admin"),A=["/view/admin/login","/view/custom/login","/view/login"].includes(location.pathname),p=function(e,n,u){e&&(u||(location.pathname.startsWith("/view/admin/")?e="/view/admin".concat(e):e="/view".concat(e)),n?location.href=e:S.m8.push(e))},P=function(){p("/login?callback=".concat(location.pathname),!0)},F=function(){sessionStorage.setItem("babyLoveToken","1")},R=function(){sessionStorage.removeItem("babyLoveToken")},L=function(){return!!sessionStorage.getItem("babyLoveToken")},b=function(){var o=d()(c()().mark(function e(){var n,u;return c()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,G.Z.post(f.X2);case 2:return n=a.sent,u=n.data,a.abrupt("return",u?u.shoppingCartCode:null);case 5:case"end":return a.stop()}},e)}));return function(){return o.apply(this,arguments)}}(),B=function(){var o=d()(c()().mark(function e(){var n;return c()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=localStorage.getItem("babyloveShoppingCartCode"),n){t.next=5;break}return t.next=4,b();case 4:n=t.sent;case 5:if(n){t.next=7;break}return t.abrupt("return",i.FN.show({icon:"fail",content:"\u6DFB\u52A0\u5931\u8D25\uFF0C\u8BF7\u7A0D\u540E\u518D\u8BD5"}));case 7:return localStorage.setItem("babyloveShoppingCartCode",n),t.abrupt("return",n);case 9:case"end":return t.stop()}},e)}));return function(){return o.apply(this,arguments)}}(),I=function(e){e&&localStorage.setItem("babyloveShoppingCartCode",e)},v=function(e){e&&localStorage.setItem("babyloveAdminShoppingCartCode",e)},O=function(){return localStorage.getItem("babyloveAdminShoppingCartCode")},m=function(){localStorage.removeItem("babyloveAdminShoppingCartCode")},T=function(){var o=d()(c()().mark(function e(){var n,u;return c()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,B();case 2:if(n=a.sent,u=g(n),!s){a.next=6;break}return a.abrupt("return",u.admin);case 6:return a.abrupt("return",u.custom);case 7:case"end":return a.stop()}},e)}));return function(){return o.apply(this,arguments)}}(),D=function(e){if(!e)return!1;try{var n=document.createElement("input");return n.value=e,n.style.height=0,document.body.append(n),n.select(),document.execCommand("Copy"),n.remove(),!0}catch(u){return!1}}},37514:function($,h,r){r.r(h),r.d(h,{default:function(){return D}});var y=r(15009),c=r.n(y),C=r(99289),d=r.n(C),S=r(12444),G=r.n(S),g=r(72004),i=r.n(g),f=r(25098),s=r.n(f),A=r(31996),p=r.n(A),P=r(26037),F=r.n(P),R=r(9783),L=r.n(R),b=r(47866),B=r(42912),I=r(82405),v=r(16763),O=r(67294),m=r(85893),T=function(o){p()(n,o);var e=F()(n);function n(u){var t;return G()(this,n),t=e.call(this,u),L()(s()(t),"formRef",O.createRef()),L()(s()(t),"login",d()(c()().mark(function a(){var Q,U,j,k,E,N,z;return c()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return t.setState({isLoading:!0}),U=(Q=t.formRef.current)===null||Q===void 0?void 0:Q.getFieldsValue(["username","password"]),j=U.username,k=U.password,l.prev=2,l.next=5,B.Z.post(b.x4,{username:j,password:k});case 5:if(E=l.sent,N=E.success,!N){l.next=11;break}return(0,I.V2)(),z=new URLSearchParams(location.search),l.abrupt("return",(0,I.WF)(z.get("callback")||"/",!1,!0));case 11:l.next=16;break;case 13:l.prev=13,l.t0=l.catch(2),console.error(l.t0);case 16:t.setState({isLoading:!1});case 17:case"end":return l.stop()}},a,null,[[2,13]])}))),t.state={isLoading:!1},t}return i()(n,[{key:"render",value:function(){return(0,m.jsx)("div",{className:"baby-love-login",children:(0,m.jsx)("div",{className:"baby-love-login-form",children:(0,m.jsxs)(v.l0,{ref:this.formRef,layout:"horizontal",footer:(0,m.jsx)(v.zx,{block:!0,type:"submit",color:"primary",size:"large",onClick:this.login,loading:this.state.isLoading,children:"\u767B\u5F55"}),children:[(0,m.jsx)(v.l0.Item,{name:"username",label:"\u767B\u5F55\u540D",rules:[{required:!0,message:"\u767B\u5F55\u540D\u4E0D\u80FD\u4E3A\u7A7A"}],children:(0,m.jsx)(v.II,{onChange:console.log,placeholder:"\u8BF7\u8F93\u5165\u767B\u5F55\u540D"})}),(0,m.jsx)(v.l0.Item,{name:"password",label:"\u767B\u5F55\u5BC6\u7801",rules:[{required:!0,message:"\u767B\u5F55\u5BC6\u7801\u4E0D\u80FD\u4E3A\u7A7A"}],children:(0,m.jsx)(v.II,{type:"password",onChange:console.log,placeholder:"\u8BF7\u8F93\u5165\u767B\u5F55\u5BC6\u7801"})})]})})})}}]),n}(O.Component),D=T}}]);
